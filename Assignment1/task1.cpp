#include <iostream>   // Подключаем библиотеку для ввода и вывода (cout, endl)
#include <cstdlib>    // Подключаем библиотеку для функций rand() и srand()
#include <ctime>      // Подключаем библиотеку для работы со временем (time)

using namespace std;  // Чтобы не писать std:: перед cout, rand и т.д.

int main() {          // Главная функция программы, с неё начинается выполнение

    // Определение размера массива
    // Массив содержит 50 000 целых чисел
    const int N = 50000;   // Объявляем константу N - размер массива

    // Динамическое выделение памяти для массива из N элементов
    // Используется оператор new[], так как размер массива
    // известен только во время выполнения программы
    int* arr = new int[N];  // Выделяем в динамической памяти массив из N элементов типа int

    // Инициализация генератора псевдослучайных чисел
    // В качестве начального значения используется текущее время
    srand(static_cast<unsigned>(time(nullptr)));  // Инициализируем генератор случайных чисел текущим временем

    // Заполнение массива случайными целыми числами
    // в диапазоне от 1 до 100 и одновременное вычисление суммы
    // элементов массива
    long long sum = 0;      // Объявляем переменную для хранения суммы элементов массива

    for (int i = 0; i < N; ++i) {   // Цикл от 0 до N-1 для прохода по массиву
        arr[i] = rand() % 100 + 1;  // Генерируем случайное число от 1 до 100 и записываем его в массив
        sum += arr[i];              // Добавляем текущее значение массива к общей сумме
    }

    // Вычисление среднего значения элементов массива
    // Приведение суммы к типу double необходимо для
    // получения корректного дробного результата
    double average = static_cast<double>(sum) / N;  // Вычисляем среднее значение элементов массива

    // Вывод вычисленного среднего значения на экран
    cout << "Average value: " << average << endl;  // Выводим среднее значение в консоль

    // Освобождение динамически выделенной памяти
    // Предотвращает утечку памяти после завершения работы программы
    delete[] arr;   // Освобождаем память, выделенную под массив

    return 0;       // Сообщаем, что программа завершилась успешно
}
